window.__theme_COLOR_cfg={"url":"css/theme-colors-d208c8d9.css","colors":["#1890ff","#2f9bff","#46a6ff","#5db1ff","#74bcff","#8cc8ff","#a3d3ff","#badeff","#d1e9ff","#e6f7ff","#bae7ff","#91d5ff","#69c0ff","#40a9ff","#1890ff","#096dd9","#0050b3","#003a8c","#002766"]};
(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],f=0,d=[];f<o.length;f++)s=o[f],r[s]&&d.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={3:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([5,0]),n()})({"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"4ffd":function(t,e,n){t.exports=n.p+"img/logo.08d9bf16.png"},5:function(t,e,n){t.exports=n("50fe")},"50fe":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"manager"},[a("div",{class:t.collapse?"side-menu active":"side-menu",style:{"background-color":t.theme?"#0c142d":"white"}},[a("div",{class:t.theme?"sitename dark":"sitename light"},[a("img",{attrs:{src:n("4ffd")}}),a("div",[t._v("运营管理平台")])]),a("a-menu",{attrs:{mode:"inline",theme:t.theme?"dark":"light",inlineCollapsed:t.collapse},on:{click:t.handleMenuClick}},[t._l(t.sourceMenu,function(e){return e.children?t._e():a("a-menu-item",{key:e.id,attrs:{target:e.resourceValue,title:e.resourceName,"data-id":"level_01.id"}},[a("a-icon",{attrs:{type:"pie-chart"}}),a("span",[t._v(t._s(e.resourceName))])],1)}),t._l(t.sourceMenu,function(e){return e.children&&0!=e.children.length?a("a-sub-menu",{key:e.id,attrs:{"data-id":"level_01.id"}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("a-icon",{attrs:{type:"mail"}}),a("span",[t._v(t._s(e.resourceName))])],1),t._l(e.children,function(e){return e.children?t._e():a("a-menu-item",{key:e.id,attrs:{target:e.resourceValue,title:e.resourceName,"data-id":"level_02.id"}},[a("span",[t._v(t._s(e.resourceName))])])}),t._l(e.children,function(e){return e.children&&0!=e.children.length?a("a-sub-menu",{key:e.id,attrs:{"data-id":"level_02.id"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.resourceName))]),t._l(e.children,function(e){return e.children?t._e():a("a-menu-item",{key:e.id,attrs:{target:e.resourceValue,title:e.resourceName,"data-id":"level_03.id"}},[a("span",[t._v(t._s(e.resourceName))])])})],2):t._e()})],2):t._e()})],2)],1),a("div",{class:t.collapse?"manager-content active":"manager-content"},[a("manager-head",{attrs:{collapse:t.collapse},on:{userSet:t.userSet,"menu-fold":t.menuFold}}),a("manager-tabs",{ref:"managerTabs",on:{backCurrent:t.backCurrent,removeSiblings:t.removeSiblings,removeAllTags:t.removeAllTags}})],1)])},r=[],i=(n("7514"),n("55dd"),n("96cf"),n("3040")),s=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"manager-head"},[n("a-icon",{class:t.collapse?"menu-fold active":"menu-fold",attrs:{type:"menu-fold"},on:{click:t.menuFold}}),n("div",{staticClass:"pull-right clearfix"},[n("div",{staticClass:"pull-left"},[n("a-dropdown",[n("div",{staticClass:"ant-dropdown-link",attrs:{href:"javascript:;"}},[n("a-avatar",{staticClass:"user-head-icon",attrs:{size:"small",icon:"user"}}),n("span",{staticStyle:{"margin-left":"4px"}},[t._v("杰哥哥")])],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"0"},[n("div",{on:{click:t.userSet}},[n("a-icon",{attrs:{type:"user"}}),t._v("\n                           账户设置\n                       ")],1)]),n("a-menu-divider"),n("a-menu-item",{key:"1"},[n("div",{on:{click:t.safeExit}},[n("a-icon",{attrs:{type:"poweroff"}}),t._v("\n                          安全退出\n                      ")],1)])],1)],1)],1)])],1)}),o=[],c={name:"managerHead",props:{collapse:{type:Boolean}},methods:{menuFold:function(){this.$emit("menu-fold")},userSet:function(){this.$emit("userSet")},safeExit:function(){this.$confirm({title:"此操作将退出管理平台！",cancelText:"取消",okText:"确定",onOk:function(){return new Promise(function(t,e){window.location.assign("/")})},onCancel:function(){}})}}},l=c,u=(n("eae0"),n("2877")),f=Object(u["a"])(l,s,o,!1,null,"21d0aa80",null);f.options.__file="managerHead.vue";var d=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"manager-tabs"},[n("div",{ref:"prevButton",staticClass:"manager-tabs-prev"},[n("a-icon",{attrs:{type:"left"}})],1),n("div",{staticClass:"manager-tabs-content"},[n("div",{ref:"tabsContent",staticClass:"manager-tabs-content-items"})]),n("div",{ref:"nextButton",staticClass:"manager-tabs-next"},[n("a-icon",{attrs:{type:"right"}})],1),n("div",{staticClass:"manager-tabs-operations"},[n("a-dropdown",[n("div",[t._v("\n                   操作\n               ")]),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("div",{on:{click:t.backCurrent}},[t._v("回到当前标签")])]),n("a-menu-item",[n("div",{on:{click:t.removeSiblings}},[t._v("关闭其他标签")])]),n("a-menu-item",{on:{click:t.removeAllTags}},[n("div",[t._v("关闭所有标签")])])],1)],1)],1),n("div",{staticClass:"tabs-item"})]),n("div",{ref:"contentWrapper",staticClass:"content-wrapper"})])},h=[],v={name:"managerTabs",methods:{backCurrent:function(){var t=this.$refs.tabsContent.querySelectorAll(".ant-tag"),e=-1;t.forEach(function(t,n){t.classList.contains("ant-tag-blue")&&(e=n)}),this.$emit("backCurrent",e)},removeSiblings:function(){this.$emit("removeSiblings")},removeAllTags:function(){this.$emit("removeAllTags")}}},g=v,p=(n("7f17"),Object(u["a"])(g,m,h,!1,null,null,null));p.options.__file="managerTabs.vue";var b=p.exports,y={data:function(){return{tabsContent:null,prevButton:null,nextButton:null,contentWrapper:null,iframesMap:{},offsetIndex:0}},mounted:function(){var t=this;this.tabsContent=this.$refs.managerTabs.$refs.tabsContent,this.prevButton=this.$refs.managerTabs.$refs.prevButton,this.nextButton=this.$refs.managerTabs.$refs.nextButton,this.contentWrapper=this.$refs.managerTabs.$refs.contentWrapper,this.prevButton.addEventListener("click",t.prevOffset),this.nextButton.addEventListener("click",t.nextOffset)},methods:{createBitClose:function(){var t='<svg viewBox="64 64 896 896" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg>',e=document.createElement("i");return e.classList.add("anticon"),e.classList.add("anticon-close"),e.innerHTML=t,e.addEventListener("click",this.removeTabItem),e},createTag:function(t,e){var n=document.createElement("div");return n.setAttribute("target",t),n.classList.add("ant-tag"),n.classList.add("ant-tag-blue"),n.innerText=e,n.appendChild(this.createBitClose(e)),n},removeTabItem:function(t){t.stopPropagation();var e=t.currentTarget.parentNode,n=e.getAttribute("target"),a=e.parentNode;e.classList.contains("ant-tag-blue")&&this.switchActive(a),a.remove(),this.iframesMap[n].remove(),delete this.iframesMap[n],a.remove()},switchActive:function(t){console.log("mayuyu");var e=t.previousSibling,n=t.nextSibling;if(e){var a=e.querySelector(".ant-tag"),r=a.getAttribute("target");this.activeThisTag(r)}if(!e&&n){var i=n.querySelector(".ant-tag"),s=i.getAttribute("target");this.activeThisTag(s)}},createTagCon:function(t,e){var n=document.createElement("div"),a=this.createTag(t,e);return n.classList.add("manager-tabs-content-item"),n.appendChild(a),n.addEventListener("click",this.tabConItemHandleClick.bind(this)),n},createIframe:function(t){var e=document.createElement("iframe");return e.classList.add("content-iframe"),e.classList.add("active"),e.setAttribute("frameborder","0"),e.setAttribute("src",t),this.iframesMap[t]=e,e},tabConItemHandleClick:function(t){var e=t.currentTarget.querySelector(".ant-tag"),n=e.getAttribute("target");this.cleanSiblings(),e.classList.add("ant-tag-blue");var a=this.getIframeByTarget(n);a.classList.add("active")},getTabsList:function(){return Array.prototype.slice.call(this.tabsContent.querySelectorAll(".ant-tag"))},getTabsCon:function(){return Array.prototype.slice.call(this.tabsContent.querySelectorAll(".manager-tabs-content-item"))},getTabsSize:function(){return this.tabsContent.querySelectorAll(".ant-tag").length},getIframes:function(){return Array.prototype.slice.call(this.contentWrapper.querySelectorAll("iframe"))},getIframeByTarget:function(t){var e=this.getIframes();return e.find(function(e){return e.getAttribute("src")==t})},hasThisTag:function(t){var e=this.getTabsList();return e.find(function(e){return e.getAttribute("target")==t})},cleanSiblings:function(){var t=this.getTabsList(),e=this.getIframes();t.forEach(function(t){t.classList.contains("ant-tag-blue")&&t.classList.remove("ant-tag-blue")}),e.forEach(function(t){t.classList.contains("active")&&t.classList.remove("active")})},activeThisTag:function(t){var e=this.hasThisTag(t);e.classList.add("ant-tag-blue");var n=this.getIframeByTarget(t);n.classList.add("active")},handleMenuClick:function(t){var e=t.item.$el,n=e.getAttribute("target"),a=(e.getAttribute("data-id"),e.getAttribute("title")?e.getAttribute("title"):e.innerText);if(n)if(this.cleanSiblings(),this.hasThisTag(n))this.activeThisTag(n);else{var r=this.createTagCon(n,a),i=this.createIframe(n);this.tabsContent.appendChild(r),this.contentWrapper.appendChild(i),this.prevOffset()}},prevOffset:function(){var t=this.getTabsSize();t-this.offsetIndex>6&&(this.offsetIndex+=6),this.calcTagsContentPosition()},nextOffset:function(){this.offsetIndex>6?this.offsetIndex-=6:this.offsetIndex=0,this.calcTagsContentPosition()},backCurrent:function(t){this.offsetIndex=t,this.calcTagsContentPosition()},removeSiblings:function(){var t=this.getTabsCon(),e=this.getIframes();t.forEach(function(t){t.children[0].classList.contains("ant-tag-blue")||t.remove()}),e.forEach(function(t){t.classList.contains("active")||t.remove()}),this.offsetIndex=0,this.calcTagsContentPosition()},removeAllTags:function(){var t=this.getTabsCon(),e=this.getIframes();t.forEach(function(t){t.remove()}),e.forEach(function(t){t.remove()}),this.offsetIndex=0,this.calcTagsContentPosition()},calcTagsContentPosition:function(){var t=this.getTabsCon().slice(0,this.offsetIndex).reduce(function(t,e,n){return t+Math.ceil(e.offsetWidth)},0);this.tabsContent.style.left=-t+"px"}}},T={data:function(){return{collapse:!1,activeName:"second",sourceMenu:[],iframeList:[],activeIndex:-1,theme:!0,currentSelecte:[]}},mixins:[y],components:{managerHead:d,managerTabs:b},created:function(){this.getMenu()},mounted:function(){var t=this;window.setStyle=function(e){t.theme=e},window.setPrimaryColor=function(e){t.setPrimaryColor(e)}},methods:{setPrimaryColor:function(t){localStorage.setItem("primaryColor",t),window.changeColor(t);var e=Array.prototype.slice.call(document.querySelectorAll("iframe"));e.forEach(function(e){var n=e.contentWindow;n&&n.changeColor&&n.changeColor(t)})},menuFold:function(){this.collapse=!this.collapse},userSet:function(){var t=document.createElement("li");t.setAttribute("target","/system/userSet.html"),t.setAttribute("title","账户设置"),this.handleMenuClick({item:{$el:t}})},getMenu:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios({url:"/main/menu",method:"post",params:{systemId:"01"}});case 2:e=t.sent,"0000"==e.key&&(this.sourceMenu=this.parseTree(e.data.menu));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),parseTree:function(t){var e=[];t=Array.prototype.sort.call(t,function(t,e){return t.orderId-e.orderId}),t.forEach(function(t){e.find(function(e){return e.id==t.id})||e.push(t)}),e.forEach(function(t){e.forEach(function(e){t.id==e.parentId&&(t.children?t.children.push(e):(t.children=new Array,t.children.push(e)))})});var n=e.filter(function(t){return 0==t.parentId});return n}}},C=T,S=(n("c597"),Object(u["a"])(C,a,r,!1,null,null,null));S.options.__file="app.vue";var L=S.exports,_=n("58ba");Object(_["a"])(L)},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),r=n("d8e8"),i=n("4bf8"),s=n("79e5"),o=[].sort,c=[1,2,3];a(a.P+a.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),r(t))}})},"7f17":function(t,e,n){"use strict";var a=n("bf4e"),r=n.n(a);r.a},"8ae0":function(t,e,n){},ac6a:function(t,e,n){for(var a=n("cadf"),r=n("0d58"),i=n("2aba"),s=n("7726"),o=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(m),v=0;v<h.length;v++){var g,p=h[v],b=m[p],y=s[p],T=y&&y.prototype;if(T&&(T[u]||o(T,u,d),T[f]||o(T,f,p),c[p]=d,b))for(g in a)T[g]||i(T,g,a[g],!0)}},be55:function(t,e,n){},bf4e:function(t,e,n){},c597:function(t,e,n){"use strict";var a=n("8ae0"),r=n.n(a);r.a},eae0:function(t,e,n){"use strict";var a=n("be55"),r=n.n(a);r.a}});